1. Only keep name resolution function.
2. Register use https, Lookup use http.
3. Simplify data format.
